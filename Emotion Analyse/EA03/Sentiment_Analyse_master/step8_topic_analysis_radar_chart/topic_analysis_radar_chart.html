<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>笔记情感主题分类雷达图</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 引入 ECharts 库用于图表绘制 -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <style>
        /* 使用 Inter 字体 */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', 'SimHei', sans-serif;
            background-color: #f7f9fb;
        }
        #radar-chart {
            width: 100%;
            height: 600px;
        }
    </style>
</head>
<body class="p-8 md:p-12">

    <div class="max-w-4xl mx-auto bg-white p-6 md:p-10 rounded-xl shadow-2xl">
        <h1 class="text-3xl font-extrabold text-gray-800 mb-2">笔记主题分类雷达分析</h1>
        <p class="text-gray-600 mb-8">
            此图表展示您的笔记内容在 10 个主题维度上的相对强度和分布平衡性。
        </p>

        <!-- ECharts 容器 -->
        <div id="radar-chart" class="rounded-lg border border-gray-200"></div>

        <div class="mt-8 p-4 bg-gray-50 rounded-lg">
            <h2 class="text-xl font-semibold text-gray-700 mb-2">主题解读（来自您的 CSV 文件）</h2>
            <ul id="topic-list" class="text-sm text-gray-600 grid grid-cols-2 gap-y-1 gap-x-4">
                <!-- 列表将由 JavaScript 填充 -->
            </ul>
        </div>
    </div>

    <script>
        // 初始化 ECharts 实例
        const chartDom = document.getElementById('radar-chart');
        const myChart = echarts.init(chartDom);
        let option;

        // 从用户 CSV 文件中提取的主题分类
        // 注意：由于CSV数据只提供了主题下的关键词，这里我们手动定义主题名称，并为演示生成模拟权重数据。
        const topicCategories = [
            { name: '教学环境', max: 100 },
            { name: '学校建设与招生', max: 100 },
            { name: '人生感悟', max: 100 },
            { name: '学校发展与教育活动', max: 100 },
            { name: '工作管理与团队', max: 100 },
            { name: '个人故事与经历', max: 100 },
            { name: '学校管理与运营', max: 100 },
            { name: '历史与思想教育', max: 100 },
            { name: '教育发展与创新', max: 100 },
            { name: '家庭与情感文化', max: 100 },
        ];

        // 随机生成模拟的权重数据 (0-100)
        // 实际应用中，您需要通过计算每个主题下所有关键词的权重总和，或文档数量占比来获取真实权重。
        const simulationData = topicCategories.map(() => Math.floor(Math.random() * 50) + 50);

        // 设置 ECharts 选项
        option = {
            title: {
                text: '笔记内容主题雷达图',
                subtext: '分析笔记内容主题的集中度与分布',
                left: 'center',
                textStyle: {
                    color: '#333',
                    fontWeight: 'bold'
                }
            },
            tooltip: {
                trigger: 'item'
            },
            legend: {
                data: ['主题权重/强度'],
                bottom: '5%',
                textStyle: {
                    color: '#333'
                }
            },
            radar: {
                indicator: topicCategories,
                center: ['50%', '50%'],
                radius: '65%',
                name: {
                    textStyle: {
                        color: '#666',
                        backgroundColor: '#fff',
                        borderRadius: 3,
                        padding: [5, 8],
                        fontSize: 14,
                        fontWeight: 'bold'
                    }
                },
                splitArea: {
                    areaStyle: {
                        color: ['#f0f8ff', '#e0f7fa']
                    }
                },
                axisLine: {
                    lineStyle: {
                        color: 'rgba(50, 50, 50, 0.2)'
                    }
                },
                splitLine: {
                    lineStyle: {
                        color: 'rgba(50, 50, 50, 0.2)'
                    }
                }
            },
            series: [
                {
                    name: '主题权重/强度',
                    type: 'radar',
                    symbol: 'circle',
                    symbolSize: 10,
                    lineStyle: {
                        width: 2,
                        color: '#00bcd4' // 主题颜色
                    },
                    areaStyle: {
                        opacity: 0.6,
                        color: '#4dd0e1' // 填充颜色
                    },
                    data: [
                        {
                            value: simulationData,
                            name: '主题权重/强度',
                            label: {
                                show: true,
                                formatter: function(params) {
                                    return params.value + '%';
                                },
                                color: '#333'
                            }
                        }
                    ]
                }
            ]
        };

        // 渲染图表
        option && myChart.setOption(option);

        // 填充主题列表到 HTML 底部
        const topicList = document.getElementById('topic-list');
        const topicNames = [
            '教学环境', '学校建设与招生', '人生感悟', '学校发展与教育活动',
            '工作管理与团队', '个人故事与经历', '学校管理与运营',
            '历史与思想教育', '教育发展与创新', '家庭与情感文化'
        ];

        topicNames.forEach((name, index) => {
            const listItem = document.createElement('li');
            listItem.className = 'py-1';
            listItem.innerHTML = `<span class="font-bold text-blue-600">${index}类:</span> ${name}`;
            topicList.appendChild(listItem);
        });

        // 确保图表在窗口大小改变时自适应
        window.addEventListener('resize', () => {
            myChart.resize();
        });

    </script>
</body>
</html>